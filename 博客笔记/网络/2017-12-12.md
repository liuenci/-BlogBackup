---
date: 2017-12-12 19:59
status: public
title: 网络复习
---

> 什么是数据帧？

数据链路层的协议数据单元，包括首部，数据部分和尾部。首部和尾部包括一些必要的控制信息，比如同步信息。数据部分则包含网络层传下来的数据，比如IP数据包.
> 以太网信道的两种类型

点对点信道，共享信道
> 数据链路层的三个基本问题

1. 封装成帧
在一段数据的前后分别添加首部和尾部，这样就构成了一个帧。这个时候我们就需要考虑，我们如何来识别一个帧，所以这里提出了一个帧定界的概念，使用两个控制字符，一个控制字符SOH放在一帧的最前面，表示帧的首部开始。另一个控制字符EOT标识帧的结束。 
2. 透明传输
我们主要目的是因为，在帧的有效数据当中，可能出现和帧定界的控制字符一样的字符，为了防止将这些字符当中帧定界的字符，错误的处理帧，所以我们采方法使得数据当中可能出现的控制字符“SOH”和“EOT”在接收端不被解释为控制字符。
3. 差错检测
就是我们所说的比特在传出过程当中可能会产生差错，1可能会变成0，0可能会变成1.这就是比特差错。而这种差错对于我们来说是不希望发生这种状况的，所以为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用差错检测措施。目前广泛运用的是循环冗余检验CRC，CRC的基本思想就是将传输的数据当作一个位数很长的数，将这个数除以另外的一个数。得到的余数作为校验数据附加到原数据后面。

> CSMA/CD协议原理

当一个节点要发送数据时，首先监听信道；如果信道空闲就发送数据，并继续监听；如果在数据发送过程中监听到了冲突，则立刻停止数据发送，等待一段随机的时间后，重新开始尝试发送数据。
概括为:
先听后说，边听边说；
一旦冲突，立即停说；
等待时机，然后再说；
> 以太网的数据帧格式

1. 目的地址
2. 源地址
3. 类型:标志上一层使用的是什么协议
4. 数据
5. FCS:帧检验序列FCS(使用CRC检验)

> MAC地址

48位，也叫做物理地址，硬件地址，用来定义网络设备的位置。在OSI模型中，第三层网络层负责IP地址，第二层数据链路层则负责MAC地址。因此一个主机会有一个MAC地址，每个网络地址会有一个专属于它的IP地址。MAC地址是网卡决定的，是固定的。

> 以太网的协议类型CSMA/CD
1. 多点接入
说明是总线型网络，许多计算机以多点接入的方式连接在一根总线上。
2. 载波监听
不管在发送前，还是在发送中，每个站都必须要不停地检测信道。
3. 碰撞检测
边发送边监听。

> 网桥：建立过程，透明网桥的建立过程，转化规则

网桥对收到的帧根据MAC帧的目的地址进行转发和过滤。当网桥收到一个帧时，并不是向所有的接口转发此帧，而是根据此帧的目的MAC地址，查找网桥中的地址表，然后确定将该帧转发到哪个接口，或者是把它丢弃(过滤).
> 虚拟局域网：什么是VLAN？

虚拟局域网是由一些局域网网段构成的与物理位置无关的逻辑组，而这些网段具有某些共同的需求。每一个VLAN的帧都有一个明确的标识符，指明发送这个帧的计算机属于哪一个VLAN。
> 高速以太网：10M→100M→1000M，哪几个参数变了，哪几个没变，从哪里可以看出来？

从信道利用率，τ （tao）/T.

> 什么是IP地址

IP地址是IP协议提供的一种统一的地址格式，他为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异。在因特网中，他是能连接到网上的所有计算机网络实现相互通信的一套规则，规定了计算机在因特网上进行通信时应当遵守的规则。
> IP包的格式(做了实验)，首部是什么，包括哪些字段?

IP包包括首部和数据两部分组成。
首部的前一部分是固定长度，共20字节，是所有IP数据报必须具有的。在首部的固定部分的后面是一些可选字段，其长度时可变的。
包括版本，首部长度，区分服务，总长度，标识，标志，片偏移，生存时间，协议，首部校验和，源地址，目的地址。
> IP分组的转化规则（从网络层和数据链路层结构层看），封装成MAC怎么转化，转化过程涉及到路由表，路由表的转化

略
> ARP协议的原理

已经知道一个机器的IP地址，需要找出其相应的硬件地址。
> 子网的划分.
1. 原因
    1. IP地址空间的利用率有时很低。
    2. 两级IP不够灵活
    3. 给每一个物理网络分配一个网络号会使路由表变得太大因而使网络性能变坏。
2. 划分子网的基本思路
    1. 一个拥有许多物理网络的单位，可将所属的物理网络分为若干个子网。
    2. 划分子网的方法是从网络的主机号借用若干位作为子网号。
    3. 凡是从其他网络发送给本单位某台主机的IP数据报，仍然是根据IP数据报的目的网络号找到连接在本单位网络上的路由器。但此路由器在收到IP数据报后，在按目的号和子网号找到目的子网，把IP数据报交付目的主机。
    
> ICMP协议，以ping命令为例，比如Ping5000个包，最后一个包包括哪些信息

1. 为了更有效的转发IP数据报和提高交互成功的机会，在网际层使用了网际控制报文协议ICMP。
2. 版本，首部长度，服务类型，总长度，标识，标志，片偏移，生存时间，协议类型，校验和，源IP地址，目的IP地址。

> 路由选择协议，RIP协议，OSPF协议（有应用题）

略
> BGP协议（掌握理解）

1. 互联网的规模太大，使得自治系统AS之间路由选择特别困难。
2. 自治系统AS之间的路由选择必须考虑有关策略。

> IGMP协议：怎么对组成员进行管理

1. 当某台主机加入新的多播组时，该主机应向多播组的多播地址发送一个IGMP报文，申明自己要成为改组的成员。本地的多播路由器收到IGMP报文后，还要利用多播路由选择协议把这种组成员关系转发给互联网上的其他多播路由器。
2. 组成员关系是动态的。

> NAT转换（讲过例子），VPN：怎么封装

NAT转换:需要专用网络连接到互联网的路由器上安装NAT软件。装有NAT软件的路由器叫做NAT路由器，他至少有一个有效的外部全球IP地址。
VPN封装:186
