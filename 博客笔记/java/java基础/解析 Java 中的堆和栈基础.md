### 堆
堆内存用于存放由 new 关键字创建的对象和数组。在堆中分配的内存，是由 Java 虚拟机的垃圾回收器进行回收，回收是在当这个对象没有引用指向这个对象实例的情况下，在今后的某一个不确定的时间点由 JVM 回收。

堆的特点是可以动态地分配内存大小，比较灵活，在他的生存期间也不需要事先告诉编译器，Java 的垃圾回收器会自动收走那些不再使用的数据。

缺点就是因为回收时间不确定，所以 Java 比较占内存。而且是动态地分配内存，所以存取的速度比较慢。

### 栈
栈空间中主要存放的是一些基本类型的变量和对象的引用。当一段代码中定义了一个变量时，Java 就为这个变量分配内存空间，当超过变量的作用域时，Java 就会自动释放为该变量分配的内存空间。

栈的特点是存取速度比堆要快，仅次于直接位于 CPU 中的寄存器。

缺点是在栈区的数据大小和生存期必须是确定的，缺乏灵活性。

注意：在局部变量中 new 出来的对象，在栈空间和堆空间都分配了内存，当方法执行完成之后，栈空间会立即回收，堆空间会等待 GC 回收。
